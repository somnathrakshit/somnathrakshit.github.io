<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>My Git Command Collection</title><meta name=description content="Somnath Rakshit's personal website"><meta name=author content="Somnath Rakshit"><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2 crossorigin=anonymous><link rel=stylesheet href=/sass/researcher.min.css><link rel=icon type=image/ico href=https://somnath.pages.dev/favicon.ico></head><body><div class="container mt-5"><nav class="navbar navbar-expand-sm flex-column flex-sm-row p-0"><a class="navbar-brand mr-sm-auto" href=https://somnath.pages.dev>Somnath Rakshit</a><div class="navbar-nav flex-row"><a class="nav-item nav-link" href=/>Home</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/files/somnathrakshit_resume.pdf>Resume</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/projects>Projects</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/musings>Musings</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/contact>Contact</a></div></nav></div><hr><div id=content><div class=container><h1 id=my-git-command-collection>My Git Command Collection</h1><p>Like many other people, I tend to be frustrated often trying to find the right command while using Git. This document is an attempt to collect as many useful commands from various places on the internet to make commands easier to find in a single location.</p><h2 id=before-you-begin>Before You Begin</h2><p>It is always a good idea to take a backup of your entire working directory including .git before you attempt anything mentioned here.</p><h2 id=saving-uncommitted-changes>Saving Uncommitted Changes</h2><p>Sometimes, you might work on something before realising that you won&rsquo;t need it at that point of time. If you don&rsquo;t want to delete that work, and instead, save it for some other day, here are some of the things that you can do.</p><table><thead><tr><th>Description</th><th>Command</th></tr></thead><tbody><tr><td>Commit them on the local branch</td><td><code>git commit -am "My descriptive message"</code></td></tr><tr><td>Commit them on another branch, no checkout conflicts.</td><td><code>git checkout otherbranch && git commit -am "My descriptive message"</code></td></tr><tr><td>Commit them on another branch, conflicts.</td><td><code>git stash; git checkout otherbranch; git stash apply; : "resolve conflicts"; git commit -am "My descriptive message"; git stash drop</code></td></tr><tr><td>Commit them on a new branch.</td><td><code>git checkout -b newbranch; git commit -am "My descriptive message"</code></td></tr><tr><td>Stash them for a rainy day.</td><td><code>git stash save "my descriptive name"</code></td></tr></tbody></table><h2 id=how-to-undo-all-uncommitted-changes>How to undo all uncommitted changes</h2><p>So you have not yet committed and you want to undo everything. Well, best practice is for you to stash the changes in case you were mistaken and later decide that you really wanted them after all. <code>git stash save "description of changes"</code>. You can revisit those stashes later by <code>git stash list</code> and decide whether to <code>git stash drop</code> them after some time has past. Please note that untracked and ignored files are not stashed by default. See <code>"--include-untracked"</code> and <code>"--all"</code> for stash options to handle those two cases.</p><p>However, perhaps you are confident (or arrogant) enough to know for sure that you will never ever want the uncommitted changes. If so, you can run <code>git reset --hard</code>, however please be quite aware that this is almost certainly a completely unrecoverable operation. Any changes which are removed here cannot be restored later. This will not delete untracked or ignored files. Those can be deleted with <code>git clean -nd; git clean -ndX</code> respectively, or <code>git clean -ndx</code> for both at once. Well, actually those command do not delete the files. They show what files will be deleted. Replace the <code>"n"</code> in <code>"-nd…"</code> with <code>"f"</code> to actually delete the files. Best practice is to ensure you are not deleting what you should not by looking at the moribund filenames first.</p><h2 id=how-to-undo-some-uncommitted-changes>How to undo some uncommitted changes</h2><p>So you have not yet committed and you want to undo some things, well git status will tell you exactly what you need to do. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># On branch master</span>
<span style=color:#75715e># Changes to be committed:</span>
<span style=color:#75715e>#   (use &#34;git reset HEAD &lt;file&gt;...&#34; to unstage)</span>
#
<span style=color:#75715e>#       new file:   .gitignore</span>
#
<span style=color:#75715e># Changes not staged for commit:</span>
<span style=color:#75715e>#   (use &#34;git add &lt;file&gt;...&#34; to update what will be committed)</span>
<span style=color:#75715e>#   (use &#34;git checkout -- &lt;file&gt;...&#34; to discard changes in working directory)</span>
#
<span style=color:#75715e>#       modified:   A</span>
#
<span style=color:#75715e># Untracked files:</span>
<span style=color:#75715e>#   (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)</span>
#
<span style=color:#75715e>#       C</span>
</code></pre></div><p>However, the <code>git checkout</code> in file mode is a command that cannot be recovered from—the changes which are discarded most probably cannot be recovered. Perhaps you should run <code>git stash save -p "description"</code> instead, and select the changes you no longer want to be stashed instead of zapping them.</p><h1 id=do-you-have-uncommitted-stuff-in-your-working-directory>Do you have uncommitted stuff in your working directory?</h1><p>So you have committed. However, before we go about fixing or removing whatever is wrong, you should first ensure that any uncommitted changes are safe, by either committing them (<code>git commit</code>) or by stashing them (<code>git stash save "message"</code>) or getting rid of them.</p><p><code>git status</code> will help you understand whether your working directory is clean or not. It should report nothing for perfect safety (&ldquo;Untracked files&rdquo; only are sometimes safe.)</p><script async src=https://comments.app/js/widget.js?3 data-comments-app-website=u3US6zJB data-limit=5 data-color=343638></script></div></div><div id=footer><hr><div class="container text-center mb-2"><a href=https://github.com/somnathrakshit><small>Copyright Somnath Rakshit, 2021</small></a></div></div></body></html>