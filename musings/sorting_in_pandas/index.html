<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>A Comprehensive Guide to Sorting in Pandas</title><meta name=description content="Somnath Rakshit's personal website"><meta name=author content="Somnath Rakshit"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-107696056-2','auto');ga('send','pageview');}</script><link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css integrity=sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk crossorigin=anonymous><link rel=stylesheet href=/sass/researcher.min.css><link rel=icon type=image/ico href=https://somnathrakshit.github.io/favicon.ico></head><body><div class="container mt-5"><nav class="navbar navbar-expand-sm flex-column flex-sm-row p-0"><a class="navbar-brand mr-sm-auto" href=https://somnathrakshit.github.io/>Somnath Rakshit</a><div class="navbar-nav flex-row"><a class="nav-item nav-link" href=/>Home</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/files/somnathrakshit_resume.pdf>Resume</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/projects>Projects</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/musings>Musings</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/contact>Contact</a></div></nav></div><hr><div id=content><div class=container><h1 id=a-comprehensive-guide-to-sorting-in-pandas>A Comprehensive Guide to Sorting in Pandas</h1><p>In order to sort rows in <code>Pandas</code>, you can use the <code>sort_values()</code> function. I have taken examples from this excellant <a href=https://datatofish.com/sort-pandas-dataframe/>blog</a>. Although it shows a lot of the use cases covered here, the last case is absent pretty much everywhere.</p><p>In this tutorial, I will be showing how to use <code>Pandas</code> to sort rows based on different criterion.</p><p>You can run a colab notebook containing all code present in this post by clicking here.
<a href=https://colab.research.google.com/gist/somnathrakshit/88a4684a1eb97b782b07a2f758ad3e3c/pandas_sort.ipynb target=_parent><img src=https://colab.research.google.com/assets/colab-badge.svg alt="Open In Colab"></a></p><p>Let us create our <code>DataFrame</code> (df) in pandas</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>, <span style=color:#ae81ff>25000</span>, <span style=color:#ae81ff>27000</span>, <span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>, <span style=color:#ae81ff>2013</span>, <span style=color:#ae81ff>2018</span>, <span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr></tbody></table></div><h2 id=column-in-an-ascending-order>Column in an ascending order</h2><p>To sort this df based on the column <code>Brand</code>, we can use the <code>sort_values()</code> function in this manner. Here, <code>inplace=True</code> means that the df will be sorted in-memory. Also, by default, the <code>df</code> is sorted in ascending order. But we can change it easily, as will be shown later.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True)
df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr></tbody></table></div><p>The complete code to perform the task above is shown below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>,<span style=color:#ae81ff>25000</span>,<span style=color:#ae81ff>27000</span>,<span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>,<span style=color:#ae81ff>2013</span>,<span style=color:#ae81ff>2018</span>,<span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

<span style=color:#75715e># sort Brand - ascending order</span>
df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True)

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr></tbody></table></div><h2 id=column-in-an-descending-order>Column in an descending order</h2><p>Now, suppose we would like to sort df in descending order. Well, <code>sort_values()</code> accepts a paramter named <code>ascending</code>. By passing <code>ascending=True</code>, you can sort the df in descending order. The code is given below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True, ascending<span style=color:#f92672>=</span>False)

</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># sort - descending order</span>
<span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>,<span style=color:#ae81ff>25000</span>,<span style=color:#ae81ff>27000</span>,<span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>,<span style=color:#ae81ff>2013</span>,<span style=color:#ae81ff>2018</span>,<span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

<span style=color:#75715e># sort Brand - descending order</span>
df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True, ascending<span style=color:#f92672>=</span>False)

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr></tbody></table></div><h2 id=by-multiple-columns---same-data-type>By multiple columns - Same data type</h2><p>In the next step, we would like to sort based on two columns. So, here, we first sort by <code>Year</code> and then by the <code>Price</code> of the car. <code>sort_values()</code> accepts a parameter called by. The by paramters can accept a string literal or it can accept a list. We simply need to pass the list containing the columns by which we want the df to be sorted. This is shown below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python> df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Price&#39;</span>], inplace<span style=color:#f92672>=</span>True)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># sort by multiple columns</span>
<span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>,<span style=color:#ae81ff>25000</span>,<span style=color:#ae81ff>27000</span>,<span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>,<span style=color:#ae81ff>2013</span>,<span style=color:#ae81ff>2018</span>,<span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

<span style=color:#75715e># sort by multiple columns: Year and Price</span>
df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Price&#39;</span>], inplace<span style=color:#f92672>=</span>True)

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr></tbody></table></div><h2 id=by-multiple-columns---mixed-data-type>By multiple columns - Mixed data type</h2><p>It is also possible to pass mixed type of columns to be sorted. For example, we can pass the <code>Year</code> column (integer) and the <code>Brand</code> column (string). Pandas accepts this without any problem.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># sort by multiple columns</span>
<span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>,<span style=color:#ae81ff>25000</span>,<span style=color:#ae81ff>27000</span>,<span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>,<span style=color:#ae81ff>2013</span>,<span style=color:#ae81ff>2018</span>,<span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

<span style=color:#75715e># sort by multiple columns: Year and Brand</span>
df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Brand&#39;</span>], inplace<span style=color:#f92672>=</span>True)

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr></tbody></table></div><h2 id=by-multiple-columns-and-mixed-order>By multiple columns and mixed order</h2><p>Last but not the least, it is also possible to sort multiple columns in mixed order. For example, we may want to sort by <code>Year</code> and <code>Brand</code> where the <code>Year</code> column needs to be sorted in descending order whereas the <code>Brand</code> column needs to be sorted in ascening order. Pandas performs this by accepting list in addition to a boolean variable to the <code>ascending</code> parameter. The correct intuitive way of doing this is shown below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Brand&#39;</span>], ascending<span style=color:#f92672>=</span>[False, True], inplace<span style=color:#f92672>=</span>True)
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># sort by multiple columns but different order</span>
<span style=color:#f92672>from</span> pandas <span style=color:#f92672>import</span> DataFrame
 
Cars <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Brand&#39;</span>: [<span style=color:#e6db74>&#39;Honda Civic&#39;</span>,<span style=color:#e6db74>&#39;Toyota Corolla&#39;</span>,<span style=color:#e6db74>&#39;Ford Focus&#39;</span>,<span style=color:#e6db74>&#39;Audi A4&#39;</span>],
        <span style=color:#e6db74>&#39;Price&#39;</span>: [<span style=color:#ae81ff>22000</span>,<span style=color:#ae81ff>25000</span>,<span style=color:#ae81ff>27000</span>,<span style=color:#ae81ff>35000</span>],
        <span style=color:#e6db74>&#39;Year&#39;</span>: [<span style=color:#ae81ff>2015</span>,<span style=color:#ae81ff>2013</span>,<span style=color:#ae81ff>2018</span>,<span style=color:#ae81ff>2018</span>]
        }
 
df <span style=color:#f92672>=</span> DataFrame(Cars, columns<span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;Brand&#39;</span>, <span style=color:#e6db74>&#39;Price&#39;</span>,<span style=color:#e6db74>&#39;Year&#39;</span>])

<span style=color:#75715e># sort by multiple columns: Year and Brand</span>
df<span style=color:#f92672>.</span>sort_values(by<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;Year&#39;</span>,<span style=color:#e6db74>&#39;Brand&#39;</span>], ascending<span style=color:#f92672>=</span>[False, True], inplace<span style=color:#f92672>=</span>True)

df
</code></pre></div><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}<pre><code>.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</code></pre><p></style></p><table border=1 class=dataframe><thead><tr style=text-align:right><th></th><th>Brand</th><th>Price</th><th>Year</th></tr></thead><tbody><tr><th>3</th><td>Audi A4</td><td>35000</td><td>2018</td></tr><tr><th>2</th><td>Ford Focus</td><td>27000</td><td>2018</td></tr><tr><th>0</th><td>Honda Civic</td><td>22000</td><td>2015</td></tr><tr><th>1</th><td>Toyota Corolla</td><td>25000</td><td>2013</td></tr></tbody></table></div><p>You can know more about sorting in Pandas by visiting the <a href=https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_values.html>official documentation</a>.</p><script async src=https://comments.app/js/widget.js?3 data-comments-app-website=CEK_Wo-P data-limit=5 data-color=343638></script></div></div><div id=footer><hr><div class="container text-center mb-2"><a href=https://github.com/somnathrakshit><small>Copyright Somnath Rakshit, 2020</small></a></div></div></body></html>